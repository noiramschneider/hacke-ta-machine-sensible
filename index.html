<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hacke ta machine po√©tique</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Courier', serif;
      line-height: 1.6;
      background: linear-gradient(135deg, #adadad 0%,#adadad 30%, #0fe00f 50%, #ff1393 100%);
      color: #1a1a2e;
      padding: 20px;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.7);
      padding: 40px;
      border-radius: 15px;
      backdrop-filter: blur(10px);
    }
    
    h1 {
      color: #1a1a2e;
      text-align: center;
      margin-bottom: 10px;
      font-size: 2.5em;
    }
    
    .subtitle {
      text-align: center;
      color: #60606b;
      margin-bottom: 40px;
      font-style: italic;
    }
    
    h2 {
      color: #ff1393;
      margin-top: 40px;
      margin-bottom: 20px;
      border-bottom: 2px solid #ff69b4;
      padding-bottom: 10px;
    }
    
    h3 {
      color: #1A1A2E;
      margin-top: 30px;
      margin-bottom: 15px;
      font-size: 1.2em;
    }
    
    .code-block {
      position: relative;
      margin: 20px 0;
    }
    
    pre {
      background: #1a1a2e;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      border-left: 4px solid #ff69b4;
    }
    
    code {
      color: #98fb98;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }
    
    .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #ff69b4;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9em;
      transition: all 0.3s;
    }
    
    .copy-btn:hover {
      background: #ff1493;
      transform: scale(1.05);
    }
    
    .copy-btn.copied {
      background: #32cd32;
    }
    
    .info-box {
      background: rgba(26, 26, 46, 0.1);
      border-left: 4px solid #FF1393;
      padding: 15px;
      margin: 20px 0;
      border-radius: 5px;
    }
    
    .snippet-description {
      color: #60606b;
      font-size: 0.95em;
      margin-bottom: 10px;
      font-style: italic;
    }
    
    a {
      color: #60606b;
      text-decoration: none;
    }
    
    a:hover {
      text-decoration: underline;
    }
    
    .footer {
      text-align: center;
      margin-top: 60px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: ##adadad;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Hacke ta machine po√©tique</h1>
    <p class="subtitle">Atelier de programmation cr√©ative avec p5.js</p>
    
    <div class="info-box">
      <strong>Comment utiliser cette page :</strong><br>
      1. Copie le code de base ci-dessous dans <a href="https://openprocessing.org/sketch/create" target="_blank">OpenProcessing.org</a>
      (supprime ce qui est d√©j√† √©cris avant de coller)<br>
      2. Personnalise les listes de mots<br>
      3. Utilise la bo√Æte √† outils pour personnaliser l'esth√©tique de ta machine !
    </div>

    <h2>Code de base</h2>
    
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this, 'code-base')">Copier</button>
      <pre><code id="code-base">/* Titre : Hacke ta machine po√©tique
 * Auteur : Ton nom 
 * Ann√©e : 2026
 * Licence : CC BY-NC-SA 4.0
 * Vous √™tes libre de partager et adapter ce code
 * tant que c'est pour un usage non-commercial
 * et que vous partagez sous la m√™me licence.
 
 * Description : 
 * Customise ce g√©n√©rateur de po√®mes al√©atoire
 * pour en faire ta machine po√©tique personnelle.
 * Peut-√™tre m√™me qu'elle pourrait te donner une
 * id√©e pour une autre cr√©ation ?
 */

let positionMachineX; //variable qui permet de placer la machine sur l'axe des x
let positionMachineY; //variable qui permet de placer la machine sur l'axe des x
let lettresVisibles = 0; //variable pour faire apparaitre les lettres du po√®me unes √† unes
let vitesseApparition = 2; //vitesse d'apparition du po√®me (1 = tr√®s rapide, 10 = tr√®s lent)

//Tu peux modifier la liste de mots comme tu le souhaites 
//fais juste bien attention de respecter la forme "mot", "autre mot", etc...
let sujets = [
  "La lune", "Le r√™ve", "L'oiseau", "Le silence",
  "La mer", "L'orage", "Le vent", "La nuit"
];

let verbes = [
  "danse avec", "murmure √†", "embrasse", "traverse",
  "appelle", "d√©couvre", "dessine", "√©coute"
];

let complements = [
  "les √©toiles endormies", "un po√®me oubli√©", "l'horizon tremblant",
  "des secrets d'argent", "la pluie √©lectrique", "un jardin de verre",
  "les mots du vent", "l'√©cho des nuages"
];

let adjectifs = [
  "doux¬∑ce", "sauvage", "fragile", "infini¬∑e",
  "silencieux¬∑se", "lumineux¬∑se", "myst√©rieux¬∑se", "√©ph√©m√®re"
];

let poemeActuel = ""; //variable qui va stocker le po√®me au complet

function setup() {
  
  createCanvas(windowWidth, windowHeight); // cr√©er un canvas de toute la largeur de la fen√™tre
  textFont('Courier New'); //police de caract√®re du po√®me
  textAlign(CENTER, CENTER);
  genererPoeme();
  positionMachineX = width / 2; //placer la machine au centre du canvas en x
  positionMachineY = height / 2; //placer la machine au centre du canvas en y

  // Appel de la fonction pour le d√©grad√© rose-gris-vert
  dessinerGradient();
}

function draw() {

  // Appel de la fonction qui dessine la machine
  dessinerMachine();

  // Appel de la fonction qui affiche le po√®me dans l'√©cran
  afficherPoeme();

  //circle(mouseX, mouseY, 20);

}

function dessinerGradient() {
  noFill();
  
  //dessiner une ligne de couleur apr√®s l'autre et remplir le canva 
  for (let y = 0; y < height; y++) {
    let inter = map(y, 0, height, 0, 1);
    //modifie les trois couleurs (c1, c2 et c3 ci dessous pour changer le d√©grad√©)
    let c1 = color(255, 0, 149); // Rose
    let c2 = color(189, 189, 189); // Gris
    let c3 = color(5, 207, 2); // Vert

    let c;
    if (inter < 0.5) {
      c = lerpColor(c1, c2, inter * 2);
    } else {
      c = lerpColor(c2, c3, (inter - 0.5) * 2);
    }

    stroke(c);
    line(0, y, width, y);
  }
}

function dessinerMachine() {
  push();
  translate(positionMachineX, positionMachineY); //positionne la machine au milieu de la fen√™tre

  // Bo√Ætier gris clair
  fill(180, 180, 180); //couleur du boitier de l'√©cran
  stroke(150, 150, 150);
  strokeWeight(3);
  rectMode(CENTER);
  rect(0, 0, 700, 500, 20); //taille et position du boitier de la machine

  // Bande plus fonc√©e en haut
  fill(160, 160, 160); //couleur de la bande en haut de l'√©cran
  noStroke();
  rect(0, -225, 700, 50, 20, 20, 0, 0);

  // √âcran noir
  fill(10, 15, 10); //ligne a changer pour changer la couleur de fond de l'√©cran de la machine
  stroke(80, 80, 80); //contour du fond de l'√©cran
  strokeWeight(5);
  rect(0, 10, 620, 380, 5); //taille et position du fond de l'√©cran

  pop();
}

function afficherPoeme() {
  push();
  translate(positionMachineX, positionMachineY + 10);

  // Texte qui appara√Æt lettre par lettre
  let textePartiel = poemeActuel.substring(0, lettresVisibles);

  if (lettresVisibles < poemeActuel.length) {
    if (frameCount % vitesseApparition === 0) {
      lettresVisibles++;
    }
  }

  // Ajouter le curseur clignotant √† la fin du texte
  if (lettresVisibles < poemeActuel.length && frameCount % 30 < 15) {
    textePartiel += "‚ñà";
  }

  // Texte vert terminal
  fill(0, 255, 100); //couleur du texte du po√®me
  noStroke();
  textSize(28); //taille du texte du po√®me
  text(textePartiel, 0, 0);

  // Instructions
  fill(0, 200, 80, 150);
  textSize(14);
  text("CLIC = NOUVEAU PO√àME", 0, 160);

  pop();
}

function genererPoeme() {
  let sujet = random(sujets);
  let adjectif = random(adjectifs);
  let verbe = random(verbes);
  let complement = random(complements);

  poemeActuel = sujet + " " + adjectif + "\n" +
    verbe + "\n" +
    complement;

  lettresVisibles = 0;
}

function mousePressed() {
  genererPoeme();
}

function keyPressed() {
  if (key === ' ') {
    genererPoeme();
  } else if (key === 's') {
    save('mon-poeme.png');
  }
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
  
  // Mettre √† jour les positions quand la fen√™tre change
  positionMachineX = width / 2;
  positionMachineY = height / 2;
}</code></pre>
    </div>

    <h2>Bo√Æte √† outils</h2>
    <p>Copie-colle ces snippets pour personnaliser ta machine po√©tique !</p>

        <h3>Changer la taille de la police de caract√®res</h3>
    <p class="snippet-description">Trouve cette ligne dans la fonction afficherPoeme() et modifie la valeur 28 par une autre, comme 50 par exemple. </p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this, 'snippet-0')">Copier</button>
      <pre><code id="snippet-0">textSize(28); //taille du texte du po√®me</code></pre>
    </div>

    <h3>Changer la police de caract√®res</h3>
    <p class="snippet-description">Dans setup(), remplace textFont('Courier New') par la police que tu veux</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this, 'snippet-1')">Copier</button>
      <pre><code id="snippet-1">textFont('Courier New');     // Terminal classique
textFont('Consolas');         // Moderne et lisible
textFont('Monaco');           // Style Mac
textFont('Lucida Console');   // Arrondie
textFont('Monospace');        // G√©n√©rique</code></pre>
    </div>

    <h3>Changer la couleur de la police de caract√®res</h3>
    <p class="snippet-description">Dans la fonction afficherPoeme(), remplace fill(0, 255, 100) par la couleur RGB que tu veux. Tu peux utiliser un des exemples ci-dessous ou ta propre couleur</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this, 'snippet-2')">Copier</button>
      <pre><code id="snippet-2">// Vert classique (par d√©faut)
fill(0, 255, 100);

// Orange ambre style ancien terminal
fill(255, 180, 0);

// Blanc style DOS
fill(220, 220, 220);

// Bleu cyan
fill(0, 255, 255);</code></pre>
    </div>

    <h3>Changer la couleur du d√©grad√© de fond</h3>
    <p class="snippet-description">Dans dessinerGradient(), trouve ces lignes et remplace une ou les trois couleurs par celles qui te plaisent</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this, 'snippet-3')">Copier</button>
      <pre><code id="snippet-3">    let c1 = color(255, 0, 149); // Rose
    let c2 = color(189, 189, 189); // Gris
    let c3 = color(5, 207, 2); // Vert</code></pre>
    </div>

    <h3>Bouger la machine avec un cliquer-bouger</h3>
    <p class="snippet-description">Ajoute ces lignes √† la fin du programme juste avant la ligne function windowResized() {</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this, 'snippet-4')">Copier</button>
      <pre><code id="snippet-4">function mouseDragged() {
  positionMachineX = mouseX;
  positionMachineY = mouseY;
}</code></pre>
    </div>

    <h3>Arri√®re plan de nuit √©toil√©e</h3>
    <p class="snippet-description">Colle juste apr√®s function draw() {</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this, 'snippet-5')">Copier</button>
      <pre><code id="snippet-5">  background(0); //couleur de fond noire
  for (let i = 0; i < 200; i++) { //200 correspond au nombre d'√©toiles
  let x = (i * 137.508 * width / 800) % width;
  let y = (i * 73.2146 * height / 600) % height;
  let scintille = sin(frameCount * 0.05 + i) * 0.5 + 0.5; //changer le 0.05 en 0.1 pour un scintillement plus rapide
  fill(255, 150 + scintille * 100);
  noStroke();
  circle(x, y, 1 + scintille); //1 correspond √† la taille des √©toiles
}</code></pre>
    </div>

    <h3>Ajouter une image de fond</h3>
    <p class="snippet-description">Plusieurs √©tapes (lis les commentaires !)</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this, 'snippet-10')">Copier</button>
      <pre><code id="snippet-10">
// 1. Ajoute cette variable EN HAUT avec les autres let
let monImage;

// 2. Dans setup(), APR√àS dessinerGradient(), ajoute :
monImage = loadImage('URL_DE_TON_IMAGE');
// Exemple : monImage = loadImage('https://example.com/mon-image.jpg');

// 3. Dans draw(), au tout D√âBUT (avant dessinerMachine), ajoute :
image(monImage, 0, 0, width, height);
</div>


    <h3>Outil pour dessiner sur le fond avec la souris</h3>
    <p class="snippet-description">Colle dans draw apr√®s background(couleurFond);</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this, 'snippet-13')">Copier</button>
      <pre><code id="snippet-13">circle(mouseX, mouseY, 20);</code></pre>
    </div>

    <div class="footer">
      <p>Pr√©par√© avec üíñ par <a href="https://schneidermarion.net" target="_blank">Marion Schneider</a> pour l'atelier de programmation cr√©ative avec Ada X</p>
      <p>Licence : <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a></p>
    </div>
  </div>

  <script>
    function copyCode(button, codeId) {
      const code = document.getElementById(codeId).textContent;
      navigator.clipboard.writeText(code).then(() => {
        button.textContent = 'Copi√© !';
        button.classList.add('copied');
        setTimeout(() => {
          button.textContent = 'Copier';
          button.classList.remove('copied');
        }, 2000);
      });
    }
  </script>
</body>
</html>
